<header>
    <div class="header-left">
        <% const url="/users/" + user.id %>
            <a href=<%=url %>><img class="logo" src="/img/idea-house.png" alt="Logo" /></a>
    </div>
    <div class="header-center">
        <a href="/what_we_do">What we do?</a>
        <a>How to use</a>
    </div>
    <div class="header-right">

        <% const timelineUrl=url + "/timeline" ; const uploadUrl=url + "/upload" ; const notifUrl=url + "/notification"
            ; const chatUrl=url + "/chat" ; const profileUrl=url + "/profile" %>

            <div class="timeline"><a href=<%=timelineUrl%>>Timeline</a></div>
            <a href=<%=uploadUrl %>><span class="fa fa-plus-square-o"></span></a>
            <a href=<%=notifUrl %>><span class="fa fa-bell-o"></span></a>
            <a href=<%=chatUrl %>><i class="bi bi-chat-left-text"></i></a>
            <div class="profile-dropdown">
                <img id="profile-button" onclick="toggleProfileMenu()" src="/img/profile8.png" />
                <div id="profile-menu">
                    <a href=<%=profileUrl %>>
                        <div id="profile-menu-head">
                            <img id="profile-picture" src="/img/profile8.png" />
                            <div>
                                <p id="profile-name">
                                    <%= user.name %>
                                </p>
                                <p id="profile-email">
                                    <%= user.email %>
                                </p>
                            </div>
                        </div>
                    </a>
                    <div id="profile-menu-list">
                        <a href=<%=profileUrl%> class="profile-menu-item">Edit profil</a>
                        <a href=<%=profileUrl%> class="profile-menu-item">Ide</a>
                        <a href=<%=profileUrl%> class="profile-menu-item">Proyek</a>
                        <a href=<%=profileUrl%> class="profile-menu-item">Liked</a>
                    </div>
                    <div id="profile-menu-logout">
                        <form action="/logout?_method=DELETE" method="POST">
                            <button type="submit" class="btn btn-link" style="color: red; text-decoration: none;">Log
                                Out</button>
                        </form>
                    </div>
                </div>
            </div>
    </div>
</header>

<div id="contents">
    <div class="landing-page-top">
        <a href="/idea_catalog/?category=Home&page=1">Home & Kitchen</a>
        <a href="/idea_catalog/?category=Sport&page=1">Sport Utilities</a>
        <a href="/idea_catalog/?category=IT&page=1">IT & Software</a>
        <a href="/idea_catalog/?category=Engineering&page=1">Engineering</a>
        <a href="/idea_catalog/?category=Fashion&page=1">Fashion</a>
        <a href="/idea_catalog/?category=Entertainment&page=1">Entertainment</a>
    </div>

    <div class="landing-page-intro">
        <div class="intro">
            <div class="intro-title">
                Welcome to <br />House of Idea!
            </div>
            <div class="intro-text">
                Idea House merupakan sebuah wadah yang siap menampung ide-ide dari hasil pemikiran Anda! Selain itu,
                Anda juga dapat
                mengakses unggahan-unggahan ide ataupun projek dari pengguna lain.
            </div>
            <div id="intro-option">
                <a href=<%=uploadUrl %> ><button id="post-button">Post Idea</button></a>
                <a href="/idea_catalog/?category=all&page=1"><button id="catalog-button">Get Some Idea</button></a>
            </div>
        </div>
        <img id="lamp" src="/img/lamp.png" alt="" />
    </div>

    <div class="landing-page-catalog">
        <h1><a href="/idea_catalog/?category=all&page=1">Katalog Ide</a></h1>
        <h2><a href="/idea_catalog/?category=all&page=1">Ide Populer</a></h2>
        <div class="idea-list">

            <% for (let i=0; i < popularIdeas.length; i++) { %>
                <a href=<%=`/post/${popularIdeas[i]._id.toString()}` %> >
                    <div class="idea-item">
                        <image class="idea-thumbnail" src="/img/thumbnail_placeholder.jpg" loading="lazy" />
                        <div class="idea-desc d-flex flex-column gap-2">
                            <div class="idea-title">
                                <%= popularIdeas[i].title %>
                            </div>
                            <div class="idea-author">
                                <%= popularIdeaAuthor[i] %>
                            </div>
                            <div class="idea-feedback d-flex justify-content-end gap-3">
                                <div class="like-count d-flex gap-1">
                                    <div class="bi bi-heart-fill" style="color: red;"></div>
                                    <%= popularIdeas[i].like %>
                                </div>
                                <div class="view-count d-flex gap-1">
                                    <div class="bi bi-eye"></div>
                                    <%= popularIdeas[i].views %>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                <% } %>

        </div>

        <h2><a href="/idea_catalog/?category=all&page=1">Ide Terbaru</a></h2>
        <div class="idea-list">

            <% for(let i=0; i < recentIdeas.length; i++) { %>
                <a href=<%=`/post/${recentIdeas[i]._id.toString()}` %> >
                    <div class="idea-item">
                        <image class="idea-thumbnail" src="/img/thumbnail_placeholder.jpg" loading="lazy" />
                        <div class="idea-desc d-flex flex-column gap-2">
                            <div class="idea-title">
                                <%= recentIdeas[i].title %>
                            </div>
                            <div class="idea-author">
                                <%= recentIdeaAuthor[i] %>
                            </div>
                            <div class="idea-feedback d-flex justify-content-end gap-3">
                                <div class="like-count d-flex gap-1">
                                    <div class="bi bi-heart-fill" style="color: red;"></div>
                                    <%= recentIdeas[i].like %>
                                </div>
                                <div class="view-count d-flex gap-1">
                                    <div class="bi bi-eye"></div>
                                    <%= recentIdeas[i].views %>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                <% } %>

        </div>

        <h2><a href="/idea_catalog/?category=all&page=1">Kategori</a></h2>
        <div class="category-list">
            <div class="category" onclick="location.href='/idea_catalog/?category=Home&page=1'" style="cursor: pointer">
                <image class="category-thumbnail" src="/img/home-kitchen.png" />
                <div class="category-desc"><b>Home & Kitchen</b></div>
            </div>
            <div class="category" onclick="location.href='/idea_catalog?category=IT&page=1'" style="cursor: pointer">
                <image class="category-thumbnail" src="/img/software.png" />
                <div class="category-desc"><b>IT & Software</b></div>
            </div>
            <div class="category" onclick="location.href='/idea_catalog?category=Engineering&page=1'"
                style="cursor: pointer">
                <image class="category-thumbnail" src="/img/engineering.png" />
                <div class="category-desc"><b>Engineering</b></div>
            </div>
            <div class="category" onclick="location.href='/idea_catalog?category=Sport&page=1'" style="cursor: pointer">
                <image class="category-thumbnail" src="/img/sport.png" />
                <div class="category-desc"><b>Sports</b></div>
            </div>
            <div class="category" onclick="location.href='/idea_catalog?category=Fashion&page=1'"
                style="cursor: pointer">
                <image class="category-thumbnail" src="/img/fashion.png" />
                <div class="category-desc"><b>Fashion</b></div>
            </div>
            <div class="category" onclick="location.href='/idea_catalog?category=Entertainment&page=1'"
                style="cursor: pointer">
                <image class="category-thumbnail" src="/img/entertainment.png" />
                <div class="category-desc"><b>Entertainment</b></div>
            </div>
        </div>
    </div>
</div>

<%- include('partials/footer') %>